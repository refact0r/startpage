var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function l(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let i,r;function a(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function m(){return f(" ")}function h(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}function y(e,t,n){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function b(e){r=e}const _=[],x=[];let w=[];const k=[],C=Promise.resolve();let E=!1;function S(e){w.push(e)}const O=new Set;let I=0;function N(){if(0!==I)return;const e=r;do{try{for(;I<_.length;){const e=_[I];I++,b(e),A(e.$$)}}catch(e){throw _.length=0,I=0,e}for(b(null),_.length=0,I=0;x.length;)x.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];O.has(t)||(O.add(t),t())}w.length=0}while(_.length);for(;k.length;)k.pop()();E=!1,O.clear(),b(e)}function A(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const H=new Set;function K(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];w.forEach((l=>-1===e.indexOf(l)?t.push(l):n.push(l))),n.forEach((e=>e())),w=t}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function L(e,t){-1===e.$$.dirty[0]&&(_.push(e),E||(E=!0,C.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(s,i,a,c,d,p,f,m=[-1]){const h=r;b(s);const g=s.$$={fragment:null,ctx:[],props:p,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:i.target||h.$$.root};f&&f(g.root);let v=!1;if(g.ctx=a?a(s,i.props||{},((e,t,...n)=>{const l=n.length?n[0]:t;return g.ctx&&d(g.ctx[e],g.ctx[e]=l)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](l),v&&L(s,e)),t})):[],g.update(),v=!0,l(g.before_update),g.fragment=!!c&&c(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(u)}else g.fragment&&g.fragment.c();i.intro&&(($=s.$$.fragment)&&$.i&&(H.delete($),$.i(y))),function(e,n,s,i){const{fragment:r,after_update:a}=e.$$;r&&r.m(n,s),i||S((()=>{const n=e.$$.on_mount.map(t).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...n):l(n),e.$$.on_mount=[]})),a.forEach(S)}(s,i.target,i.anchor,i.customElement),N()}var $,y;b(h)}class z{$destroy(){K(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function D(e,t,n){const l=e.slice();return l[20]=t[n],l}function M(e,t,n){const l=e.slice();return l[23]=t[n],l}function q(e){let t,n,o,s,i,r,d,f,v,b,_,x,w,k,C,E,O,I,N,A,H,K;return{c(){t=p("div"),n=p("h2"),n.textContent="Settings",o=m(),s=p("div"),s.textContent="Name",i=m(),r=p("input"),d=m(),f=p("div"),f.textContent="Location",v=m(),b=p("input"),_=m(),x=p("div"),x.textContent="Openweathermap API key",w=m(),k=p("input"),C=m(),E=p("div"),E.textContent="Units",O=m(),I=p("select"),N=p("option"),N.textContent="metric",A=p("option"),A.textContent="imperial",g(n,"id","settings-header"),g(n,"class","svelte-1epel7n"),g(s,"class","label svelte-1epel7n"),g(r,"type","text"),g(r,"class","svelte-1epel7n"),g(f,"class","label svelte-1epel7n"),g(b,"type","text"),g(b,"class","svelte-1epel7n"),g(x,"class","label svelte-1epel7n"),g(k,"type","text"),g(k,"class","svelte-1epel7n"),g(E,"class","label svelte-1epel7n"),N.__value="metric",N.value=N.__value,A.__value="imperial",A.value=A.__value,g(I,"class","svelte-1epel7n"),void 0===e[9].units&&S((()=>e[16].call(I))),g(t,"id","settings"),g(t,"class","svelte-1epel7n")},m(l,u){c(l,t,u),a(t,n),a(t,o),a(t,s),a(t,i),a(t,r),$(r,e[9].name),a(t,d),a(t,f),a(t,v),a(t,b),$(b,e[9].location),a(t,_),a(t,x),a(t,w),a(t,k),$(k,e[9].apiKey),a(t,C),a(t,E),a(t,O),a(t,I),a(I,N),a(I,A),y(I,e[9].units,!0),H||(K=[h(r,"input",e[13]),h(b,"input",e[14]),h(k,"input",e[15]),h(I,"change",e[16])],H=!0)},p(e,t){512&t&&r.value!==e[9].name&&$(r,e[9].name),512&t&&b.value!==e[9].location&&$(b,e[9].location),512&t&&k.value!==e[9].apiKey&&$(k,e[9].apiKey),512&t&&y(I,e[9].units)},d(e){e&&u(t),H=!1,l(K)}}}function P(e){let t,n,l,o,s,i,r,$,y,b,_,x,w,k,C,E,S,O,I=e[9].name?", "+e[9].name:"",N=e[2]&&T(e),A=e[9].links,H=[];for(let t=0;t<A.length;t+=1)H[t]=R(D(e,A,t));return{c(){t=p("div"),n=p("div"),l=p("h1"),o=f("Good "),s=f(e[5]),i=f(I),r=f("."),$=m(),y=p("h2"),b=f("Today is "),_=f(e[6]),x=f("."),w=m(),k=p("div"),N&&N.c(),C=m(),E=p("div");for(let e=0;e<H.length;e+=1)H[e].c();g(l,"id","greeting"),g(l,"class","svelte-1epel7n"),g(y,"id","date"),g(y,"class","svelte-1epel7n"),g(n,"id","heading"),g(n,"class","svelte-1epel7n"),g(k,"id","weather-container"),g(k,"class","svelte-1epel7n"),g(t,"id","heading-container"),g(t,"class","svelte-1epel7n"),g(E,"id","links"),g(E,"class","svelte-1epel7n")},m(u,d){c(u,t,d),a(t,n),a(n,l),a(l,o),a(l,s),a(l,i),a(l,r),a(n,$),a(n,y),a(y,b),a(y,_),a(y,x),a(t,w),a(t,k),N&&N.m(k,null),c(u,C,d),c(u,E,d);for(let e=0;e<H.length;e+=1)H[e]&&H[e].m(E,null);S||(O=h(k,"click",e[11]),S=!0)},p(e,t){if(32&t&&v(s,e[5]),512&t&&I!==(I=e[9].name?", "+e[9].name:"")&&v(i,I),64&t&&v(_,e[6]),e[2]?N?N.p(e,t):(N=T(e),N.c(),N.m(k,null)):N&&(N.d(1),N=null),512&t){let n;for(A=e[9].links,n=0;n<A.length;n+=1){const l=D(e,A,n);H[n]?H[n].p(l,t):(H[n]=R(l),H[n].c(),H[n].m(E,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=A.length}},d(e){e&&u(t),N&&N.d(),e&&u(C),e&&u(E),d(H,e),S=!1,O()}}}function T(e){let t,n,l,o,s,i,r,d,h;return{c(){t=p("div"),l=m(),o=p("span"),s=p("div"),i=f(e[4]),r=f("Â°"),d=m(),h=p("div"),h.textContent=`in ${e[10]}`,g(t,"class",n="weather-icon "+e[3]+" svelte-1epel7n"),g(s,"id","temperature"),g(s,"class","svelte-1epel7n"),g(h,"id","location"),g(h,"class","svelte-1epel7n"),g(o,"class","svelte-1epel7n")},m(e,n){c(e,t,n),c(e,l,n),c(e,o,n),a(o,s),a(s,i),a(s,r),a(o,d),a(o,h)},p(e,l){8&l&&n!==(n="weather-icon "+e[3]+" svelte-1epel7n")&&g(t,"class",n),16&l&&v(i,e[4])},d(e){e&&u(t),e&&u(l),e&&u(o)}}}function J(e){let t,n,l,o,s,i,r,d,h=e[23].name+"";return{c(){t=p("a"),n=p("span"),n.textContent=">",l=m(),o=p("span"),s=f(h),r=m(),d=p("br"),g(n,"class","arrow svelte-1epel7n"),g(o,"class","text svelte-1epel7n"),g(t,"href",i=e[23].url),g(t,"class","svelte-1epel7n")},m(e,i){c(e,t,i),a(t,n),a(t,l),a(t,o),a(o,s),c(e,r,i),c(e,d,i)},p(e,n){512&n&&h!==(h=e[23].name+"")&&v(s,h),512&n&&i!==(i=e[23].url)&&g(t,"href",i)},d(e){e&&u(t),e&&u(r),e&&u(d)}}}function R(e){let t,n,l=e[20],o=[];for(let t=0;t<l.length;t+=1)o[t]=J(M(e,l,t));return{c(){t=p("div");for(let e=0;e<o.length;e+=1)o[e].c();n=m(),g(t,"class","link-column svelte-1epel7n")},m(e,l){c(e,t,l);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);a(t,n)},p(e,s){if(512&s){let i;for(l=e[20],i=0;i<l.length;i+=1){const r=M(e,l,i);o[i]?o[i].p(r,s):(o[i]=J(r),o[i].c(),o[i].m(t,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=l.length}},d(e){e&&u(t),d(o,e)}}}function U(t){let n,l,o,s,r,d,$,y,b,_,x,w,k,C,E,S,O,I,N;function A(e,t){return e[1]?q:P}let H=A(t),K=H(t);return{c(){var e,a;n=p("main"),l=p("div"),o=p("div"),s=p("img"),d=m(),$=p("div"),y=f(t[8]),b=f(":"),_=f(t[7]),x=m(),w=p("div"),K.c(),k=m(),C=p("div"),E=p("button"),E.textContent="settings",S=m(),O=p("a"),O.textContent="v1.2.2",g(s,"id","image"),e=s.src,a=r="build/1.gif",i||(i=document.createElement("a")),i.href=a,e!==i.href&&g(s,"src","build/1.gif"),g(s,"alt",""),g(s,"class","svelte-1epel7n"),g($,"id","time"),g($,"class","svelte-1epel7n"),g(o,"id","image-container"),g(o,"class","svelte-1epel7n"),g(w,"id","box"),g(w,"class","svelte-1epel7n"),g(l,"id","content"),g(l,"class","svelte-1epel7n"),g(E,"id","settings-button"),g(E,"class","svelte-1epel7n"),g(O,"href","#"),g(O,"id","version"),g(O,"class","svelte-1epel7n"),g(C,"id","corner"),g(C,"class","svelte-1epel7n"),g(n,"class","svelte-1epel7n")},m(e,i){c(e,n,i),a(n,l),a(l,o),a(o,s),a(o,d),a(o,$),a($,y),a($,b),a($,_),a(l,x),a(l,w),K.m(w,null),a(n,k),a(n,C),a(C,E),a(C,S),a(C,O),I||(N=h(E,"click",t[17]),I=!0)},p(e,[t]){256&t&&v(y,e[8]),128&t&&v(_,e[7]),H===(H=A(e))&&K?K.p(e,t):(K.d(1),K=H(e),K&&(K.c(),K.m(w,null)))},i:e,o:e,d(e){e&&u(n),K.d(),I=!1,N()}}}function B(e){return e<10?"0"+e:e}function G(t,n,l){let o,s,i,r,a,c=e,u=()=>(c(),c=function(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(d,(e=>l(9,a=e))),d);t.$$.on_destroy.push((()=>c()));let{config:d}=n;u();let p,f=!1,m=new Date,h="none",g=0,v=a.location;async function $(){const e=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${a.location}&units=${a.units}&appid=${a.apiKey}`);if(e.ok)if(l(2,p=await e.json()),l(4,g=Math.round(p.main.temp)),"Clear"===p.weather[0].main){let e=Math.floor(m/1e3);e<p.sys.sunrise||e>p.sys.sunset?l(3,h="moon"):l(3,h="sun")}else"Rain"===p.weather[0].main||"Drizzle"===p.weather[0].main||"Thunderstorm"===p.weather[0].main?l(3,h="rain"):"Snow"===p.weather[0].main?l(3,h="snow"):l(3,h="cloud");else console.warn("Your Openweathermap API key is probably missing or invalid.")}setInterval((()=>{l(12,m=new Date)}),1e3),setInterval((()=>{$()}),3e5),d.subscribe((e=>{$()}));return t.$$set=e=>{"config"in e&&u(l(0,d=e.config))},t.$$.update=()=>{4096&t.$$.dirty&&l(8,o=B(m.getHours()%12==0?12:m.getHours()%12)),4096&t.$$.dirty&&l(7,s=B(m.getMinutes())),4096&t.$$.dirty&&l(6,i=m.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),4096&t.$$.dirty&&l(5,r=m.getHours()<2?"night":m.getHours()<12?"morning":m.getHours()<18?"afternoon":m.getHours()<22?"evening":"night")},[d,f,p,h,g,r,i,s,o,a,v,$,m,function(){a.name=this.value,d.set(a)},function(){a.location=this.value,d.set(a)},function(){a.apiKey=this.value,d.set(a)},function(){a.units=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),d.set(a)},()=>l(1,f=!f)]}const Y=[];const F=function(t,n=e){let l;const o=new Set;function i(e){if(s(t,e)&&(t=e,l)){const e=!Y.length;for(const e of o)e[1](),Y.push(e,t);if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,r=e){const a=[s,r];return o.add(a),1===o.size&&(l=n(i)||e),s(t),()=>{o.delete(a),0===o.size&&l&&(l(),l=null)}}}}(JSON.parse(localStorage.getItem("config"))??{name:"USER",location:"London",units:"imperial",apiKey:"",links:[[{name:"gmail",url:"https://mail.google.com"},{name:"calendar",url:"https://calendar.google.com"},{name:"drive",url:"https://drive.google.com"},{name:"docs",url:"https://docs.google.com"}],[{name:"github",url:"https://github.com"},{name:"translate",url:"https://translate.google.com"},{name:"finance",url:"https://finance.yahoo.com"},{name:"type",url:"https://monkeytype.com"}],[{name:"youtube",url:"https://youtube.com"},{name:"twitch",url:"https://twitch.tv"},{name:"reddit",url:"https://reddit.com"},{name:"insta",url:"http://instagram.com"}]]});console.log(F),F.subscribe((e=>{localStorage.setItem("config",JSON.stringify(e))}));return new class extends z{constructor(e){super(),j(this,e,G,U,s,{config:0})}}({target:document.body,props:{config:F}})}();
//# sourceMappingURL=bundle.js.map
